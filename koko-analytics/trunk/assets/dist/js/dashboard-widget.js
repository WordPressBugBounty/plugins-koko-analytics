!function(){"use strict";var t=document.querySelector("#ka-chart");if(t){var e,n=document.querySelector(".ka-chart--tooltip"),r=document.querySelector(".ka-chart--tooltip-arrow"),i=t.querySelectorAll(".bars g");n.remove(),document.body.appendChild(n),document.body.addEventListener("mouseover",function(e){"none"===n.style.display||t.contains(e.target)||n.contains(e.target)||(n.style.display="none")}),t.addEventListener("mouseover",function(t){if("rect"===t.target.tagName){var i=t.target.parentElement.dataset;n.querySelector(".ka-chart--tooltip-heading").textContent=i.date,n.querySelector(".ka--visitors").children[0].textContent=i.visitors,n.querySelector(".ka--pageviews").children[0].textContent=i.pageviews;var a=document.body.clientWidth;n.style.display="block";var o=void 0!==window.pageYOffset?window.pageYOffset:window.scrollTop,l=t.target.parentElement.getBoundingClientRect(),d=Math.round(l.left+0-.5*n.clientWidth+.5*e),c=Math.round(l.top+o-n.clientHeight),s=0;d<12?s=12-d:d+n.clientWidth>a-12&&(s=a-(d+n.clientWidth)-12),d+=s,r.style.marginLeft=0===s?"auto":.5*n.clientWidth-6-s+"px",n.style.left=d+"px",n.style.top=c+"px"}})}var a=document.getElementById("ka-chart");function o(){a.clientWidth&&function(){if(t){var n,r=t.querySelectorAll(".axes-y text"),a=0;for(n=0;n<r.length;n++)a=Math.max(a,8+Math.max(5,8*r[n].textContent.length));var o=Math.max(1,(t.clientWidth-a)/i.length);for(e=Math.max(1,o-2),i[0].parentElement.style.display="none",n=0;n<i.length;n++){var l=n*o+a+1;i[n].children[0].setAttribute("x",l),i[n].children[0].setAttribute("width",e),i[n].children[1].setAttribute("x",l),i[n].children[1].setAttribute("width",e),i[n].children[2].style.display=1===e?"none":"",l=n*o+a+.5*o,i[n].children[2].setAttribute("x1",l),i[n].children[2].setAttribute("x2",l)}i[0].parentElement.style.display=""}}()}a.parentElement.style.display="",requestAnimationFrame(o),jQuery&&jQuery(document).on("postbox-toggled",o)}();